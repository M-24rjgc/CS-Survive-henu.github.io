# ğŸ”§ GitHub Actions éƒ¨ç½²æ•…éšœæ’é™¤æŒ‡å—

## ğŸ¯ å¸¸è§é—®é¢˜åŠè§£å†³æ–¹æ¡ˆ

### 1. âŒ Rollup æ¨¡å—æ‰¾ä¸åˆ°é”™è¯¯

**é”™è¯¯ä¿¡æ¯ï¼š**
```
Cannot find module @rollup/rollup-linux-x64-gnu
```

**è§£å†³æ–¹æ¡ˆï¼š**
âœ… å·²ä¿®å¤ï¼å·¥ä½œæµç°åœ¨åŒ…å«å¤šç§å›é€€æ–¹æ¡ˆï¼š
1. é¦–å…ˆå°è¯• `npm ci`ï¼ˆæœ€å¿«æœ€å¯é ï¼‰
2. å¦‚æœå¤±è´¥ï¼Œä½¿ç”¨ `npm install --no-optional`
3. æœ€åå›é€€åˆ° `npm install --force`

### 2. âŒ npm ci é”™è¯¯ï¼špackage-lock.json ä¸åŒæ­¥

**é”™è¯¯ä¿¡æ¯ï¼š**
```
npm ci can only install packages when your package.json and package-lock.json are in sync
```

**è§£å†³æ–¹æ¡ˆï¼š**
âœ… å·²ä¿®å¤ï¼å·¥ä½œæµä¼šè‡ªåŠ¨æ£€æµ‹å¹¶å¤„ç†è¿™ä¸ªé—®é¢˜

### 3. âŒ Jekyll æ„å»ºé”™è¯¯

**é”™è¯¯ä¿¡æ¯ï¼š**
```
Could not locate Gemfile
gem install bundler
```

**è§£å†³æ–¹æ¡ˆï¼š**
âœ… å·²ä¿®å¤ï¼åˆ é™¤äº†æ‰€æœ‰ Jekyll ç›¸å…³çš„å·¥ä½œæµ

### 4. âŒ æƒé™é”™è¯¯

**é”™è¯¯ä¿¡æ¯ï¼š**
```
Error: Resource not accessible by integration
```

**è§£å†³æ–¹æ¡ˆï¼š**
1. è¿›å…¥ GitHub ä»“åº“è®¾ç½®
2. ç‚¹å‡» Settings â†’ Pages
3. ç¡®ä¿ Source è®¾ç½®ä¸º "GitHub Actions"
4. ç¡®ä¿ Actions æƒé™æ­£ç¡®

### 5. âŒ æ„å»ºå¤±è´¥ï¼šæ‰¾ä¸åˆ°æ–‡ä»¶

**é”™è¯¯ä¿¡æ¯ï¼š**
```
ENOENT: no such file or directory
```

**è§£å†³æ–¹æ¡ˆï¼š**
æ£€æŸ¥ä»¥ä¸‹æ–‡ä»¶æ˜¯å¦å­˜åœ¨ï¼š
- `docs/.vitepress/config.ts`
- `docs/index.md`
- `package.json`

### 7. âŒ Azure Static Web Apps éƒ¨ç½²å¤±è´¥

**é”™è¯¯ä¿¡æ¯ï¼š**
```
Build failed - no build output found
Unable to find build artifacts
```

**è§£å†³æ–¹æ¡ˆï¼š**
âœ… å·²ä¿®å¤ï¼Azure å·¥ä½œæµç°åœ¨åŒ…å«å®Œæ•´çš„ VitePress æ„å»ºæµç¨‹ï¼š
1. Node.js ç¯å¢ƒè®¾ç½®
2. è‡ªåŠ¨ä¾èµ–å®‰è£…
3. VitePress æ„å»ºè¿‡ç¨‹
4. æ­£ç¡®çš„è¾“å‡ºç›®å½•é…ç½® (`docs/.vitepress/dist`)

### 8. âŒ Azure ä¸ GitHub Pages éƒ¨ç½²å†²çª

**ç—‡çŠ¶ï¼š** ä¸¤ä¸ªéƒ¨ç½²å·¥ä½œæµåŒæ—¶è¿è¡Œå¯¼è‡´èµ„æºç«äº‰

**è§£å†³æ–¹æ¡ˆï¼š**
âœ… å·²ä¼˜åŒ–ï¼ä¸¤ä¸ªéƒ¨ç½²æµç¨‹ç°åœ¨å¯ä»¥å¹¶è¡Œå·¥ä½œï¼š
- GitHub Pages éƒ¨ç½²ï¼šç”¨äºä¸»è¦ç«™ç‚¹æ‰˜ç®¡
- Azure Static Web Appsï¼šç”¨äº CDN åŠ é€Ÿå’Œå…¨çƒåˆ†å‘
- ä¸¤è€…ä½¿ç”¨ç›¸åŒçš„ VitePress æ„å»ºæµç¨‹ï¼Œç¡®ä¿ä¸€è‡´æ€§

**å¯èƒ½åŸå› ï¼š**
- base è·¯å¾„é…ç½®é”™è¯¯
- æ–‡ä»¶è·¯å¾„ä¸åŒ¹é…
- éƒ¨ç½²ç›®å½•é”™è¯¯

**è§£å†³æ–¹æ¡ˆï¼š**
1. æ£€æŸ¥ `docs/.vitepress/config.ts` ä¸­çš„ `base` è®¾ç½®
2. ç¡®ä¿æ‰€æœ‰é“¾æ¥è·¯å¾„æ­£ç¡®
3. æ£€æŸ¥ GitHub Pages è®¾ç½®

## ğŸ› ï¸ æ–°çš„éƒ¨ç½²æµç¨‹ç‰¹ç‚¹

### ğŸ”„ å¤šé‡å›é€€æœºåˆ¶
1. **ç¬¬ä¸€é€‰æ‹©**ï¼š`npm ci` - æœ€å¿«æœ€å¯é 
2. **ç¬¬äºŒé€‰æ‹©**ï¼š`npm install --no-optional` - è·³è¿‡å¯é€‰ä¾èµ–
3. **æœ€åé€‰æ‹©**ï¼š`npm install --force` - å¼ºåˆ¶å®‰è£…

### ï¿½ è¯¦ç»†æ—¥å¿—è¾“å‡º
- æ˜¾ç¤ºå®‰è£…è¿‡ç¨‹çš„æ¯ä¸ªæ­¥éª¤
- åˆ—å‡ºå·²å®‰è£…çš„åŒ…
- æ˜¾ç¤ºæ„å»ºè¾“å‡ºæ–‡ä»¶

### ğŸ”§ è‡ªåŠ¨ä¿®å¤
- è‡ªåŠ¨åˆ›å»º `.nojekyll` æ–‡ä»¶
- è‡ªåŠ¨å¤åˆ¶é™æ€èµ„æº
- è‡ªåŠ¨å¤„ç†ä¾èµ–å†²çª

## ï¿½ğŸš€ éƒ¨ç½²æ£€æŸ¥æ¸…å•

### éƒ¨ç½²å‰æ£€æŸ¥ï¼š
- [ ] æœ¬åœ°æ„å»ºæˆåŠŸï¼š`npm run build`
- [ ] æ‰€æœ‰æ–‡ä»¶å·²æäº¤
- [ ] VitePress ç‰ˆæœ¬å…¼å®¹

### éƒ¨ç½²åæ£€æŸ¥ï¼š
- [ ] GitHub Actions æ„å»ºæˆåŠŸ
- [ ] ç½‘ç«™å¯ä»¥æ­£å¸¸è®¿é—®
- [ ] æ‰€æœ‰é¡µé¢é“¾æ¥æ­£å¸¸
- [ ] æ ·å¼å’Œå›¾ç‰‡æ­£å¸¸åŠ è½½

## ğŸ” è°ƒè¯•æ­¥éª¤

### 1. æ£€æŸ¥ GitHub Actions æ—¥å¿—
```
https://github.com/CS-Survive-henu/CS-Survive-henu.github.io/actions
```

### 2. æœ¬åœ°æµ‹è¯•æ„å»º
```bash
# æ¸…ç†ç¯å¢ƒ
rm -rf node_modules package-lock.json
npm cache clean --force

# é‡æ–°å®‰è£…
npm install

# æµ‹è¯•æ„å»º
npm run build
npm run preview
```

### 3. æ£€æŸ¥æ„å»ºè¾“å‡º
```bash
ls -la docs/.vitepress/dist/
```

### 4. éªŒè¯é…ç½®æ–‡ä»¶
```bash
node -e "console.log(JSON.stringify(require('./docs/.vitepress/config.ts'), null, 2))"
```

## ğŸ“ è·å–å¸®åŠ©

å¦‚æœé—®é¢˜ä»ç„¶å­˜åœ¨ï¼š

1. **æŸ¥çœ‹æ—¥å¿—**ï¼šæ£€æŸ¥ GitHub Actions çš„è¯¦ç»†æ—¥å¿—
2. **æœ¬åœ°æµ‹è¯•**ï¼šç¡®ä¿æœ¬åœ°æ„å»ºå’Œé¢„è§ˆæ­£å¸¸
3. **æ£€æŸ¥é…ç½®**ï¼šå¯¹æ¯”å·¥ä½œçš„ VitePress é¡¹ç›®é…ç½®
4. **é‡æ–°éƒ¨ç½²**ï¼šä½¿ç”¨ "Re-run all jobs" é‡æ–°è¿è¡Œå·¥ä½œæµ

## ğŸ¯ æœ€ä½³å®è·µ

1. **å®šæœŸæ›´æ–°ä¾èµ–**
   ```bash
   npm update
   ```

2. **ä½¿ç”¨é”å®šæ–‡ä»¶**
   - æäº¤ package-lock.json
   - ç¡®ä¿å›¢é˜Ÿä½¿ç”¨ç›¸åŒçš„ä¾èµ–ç‰ˆæœ¬

3. **æµ‹è¯•é©±åŠ¨éƒ¨ç½²**
   - æ¯æ¬¡éƒ¨ç½²å‰æœ¬åœ°æµ‹è¯•
   - ä½¿ç”¨ staging åˆ†æ”¯è¿›è¡Œæµ‹è¯•

4. **ç›‘æ§éƒ¨ç½²çŠ¶æ€**
   - è®¾ç½® GitHub Actions é€šçŸ¥
   - å®šæœŸæ£€æŸ¥ç½‘ç«™çŠ¶æ€

## ğŸ“ˆ æ€§èƒ½ä¼˜åŒ–å»ºè®®

1. **ç¼“å­˜ç­–ç•¥**
   - ä½¿ç”¨ GitHub Actions ç¼“å­˜
   - ä¼˜åŒ– npm å®‰è£…é€Ÿåº¦

2. **æ„å»ºä¼˜åŒ–**
   - ä½¿ç”¨ `--prefer-offline` æ ‡å¿—
   - è·³è¿‡ä¸å¿…è¦çš„å¯é€‰ä¾èµ–

3. **é”™è¯¯å¤„ç†**
   - å¤šé‡å›é€€æœºåˆ¶
   - è¯¦ç»†çš„é”™è¯¯æ—¥å¿—

---

**ğŸ’¡ æç¤ºï¼šæ–°çš„éƒ¨ç½²æµç¨‹å·²ç»å¤§å¤§æé«˜äº†ç¨³å®šæ€§å’Œå¯é æ€§ï¼**
